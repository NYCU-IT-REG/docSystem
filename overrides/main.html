{% extends "base.html" %}

{% block extrahead %}
<!-- Accessibility enhancements -->
<meta name="description" content="陽明交大資訊技術服務中心 Wiki - 提供無障礙的技術文件與服務指南">
<!-- Immediately apply saved/system color scheme to root to avoid FOUC on first render -->
<script>
  (function(){
      try {
        var s = localStorage.getItem('site-color-scheme');
      } catch (e) {
        var s = null;
      }
      if (!s) {
        if (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches) s = 'slate';
        else s = 'light';
      }
      if (s) {
        // use 'default' value for light to match existing theme/custom.css which uses 'default'
        var attrVal = s === 'light' ? 'default' : 'slate';
        try {
          document.documentElement.setAttribute('data-md-color-scheme', attrVal);
        } catch (e) {}
        // also set on body if already parsed
        if (document.body) {
          try { document.body.setAttribute('data-md-color-scheme', attrVal); } catch (e) {}
        }
      }
  })();
</script>
<!-- Custom palette toggle script -->
<script src="{{ base_url }}/assets/javascripts/palette-toggle.js" defer></script>
{% endblock %}

{% block site %}
<!-- Skip to main content link for accessibility (must be the first interactive element) -->
<a href="#main-content" class="skip-link">跳至主要內容</a>
{{ super() }}

{# Container for custom palette toggle (script will inject button) #}
<div id="custom-palette-container" aria-hidden="true"></div>
{% endblock %}

{% block content %}
<main id="main-content" role="main" aria-label="主要內容">
  {{ super() }}
</main>
{% endblock %}